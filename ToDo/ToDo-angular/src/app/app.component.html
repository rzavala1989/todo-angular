<div
  class="row row-header"
  style="background-image: linear-gradient(to right, rgb(0, 0, 0) 0%, rgb(67, 67, 67) 51%, rgb(0, 0, 0) 100%);"
>
  <div class="col-md-2"></div>
  <div class="col-md-16">
    <br />
    <h1>Here are your tasks that will determine the rest of your life...</h1>
    <hr />
    <h5>Angular CLI, NodeJS, Bootstrap, MongoDB</h5>
    <br />
  </div>
</div>
<form class="container panel-heading">
  <div class="form-row">
    <div class="col-md-3">
      <input
        type="text"
        name="title"
        id="title"
        [(ngModel)]="newTask.title"
        placeholder="Title"
        class="form-control"
      />
    </div>
    <div class="col-md-3">
      <input
        name="description"
        id="description"
        [(ngModel)]="newTask.description"
        placeholder="Description"
        class="form-control"
        id="description"
      />
    </div>
    <div class="col-md-3">
      <input
        name="type"
        id="type"
        [(ngModel)]="newTask.type"
        placeholder="Type"
        class="form-control"
        id="type"
      />
    </div>
    <div class="col-md-1">
      <button type="submit" class="btn btn-md pull-left" (click)="createTask()">
        <i class="fa fa-plus-circle"></i>
        Add task
      </button>
    </div>
  </div>
</form>
<div class="container">
  <div class="col-md-16">
    <div class="todos" *ngIf="toDoList">
      <table class="table">
        <thead class="thead-dark">
          <tr class="h">
            <th scope="col" class="h">Title</th>
            <th scope="col" class="h">Description</th>
            <th scope="col" class="h">Date</th>
            <th scope="col" class="h">Type</th>
            <th scope="col" class="h">Status</th>
            <th scope="col" class="h">Options</th>
          </tr>
        </thead>
        <tbody>
          <tr
            class="task"
            (dblclick)="editTask(task)"
            *ngFor="let task of toDoList"
          >
            <ng-container *ngIf="!editTasks.includes(task); else editTD">
              <td>{{ task.title }}</td>
              <td>{{ task.description }}</td>
              <td>{{ task.date | date }}</td>
              <td>{{ task.type }}</td>
              <td>{{ task.status }}</td>
            </ng-container>
            <ng-template #editTD>
              <td>
                <input
                  type="text"
                  name="title"
                  id="title"
                  (keypress)="submitTask($event, task)"
                  [(ngModel)]="task.title"
                  placeholder="Title"
                  class="form-control"
                />
              </td>
              <td>
                <input
                  type="text"
                  name="description"
                  id="description"
                  (keypress)="submitTask($event, task)"
                  [(ngModel)]="task.description"
                  placeholder="Description"
                  class="form-control"
                />
              </td>
              <td>
                <input
                  type="date"
                  name="date"
                  id="date"
                  (keypress)="submitTask($event, task)"
                  [(ngModel)]="task.date"
                  class="form-control"
                />
              </td>
              <td>
                <input
                  type="text"
                  name="type"
                  id="type"
                  (keypress)="submitTask($event, task)"
                  [(ngModel)]="task.type"
                  placeholder="Type"
                  class="form-control"
                />
              </td>
              <td>
                <input
                  type="text"
                  name="status"
                  id="status"
                  (keypress)="submitTask($event, task)"
                  [(ngModel)]="task.status"
                  placeholder="Status"
                  class="form-control"
                />
              </td>
            </ng-template>
            <td class="o">
              <button class="btn btn-success" (click)="doneTask(task)">
                <i class="fa fa-check"></i>
              </button>
              &nbsp;
              <button class="btn btn-primary" (click)="editTask(task)">
                <i class="fa fa-pencil"></i>
              </button>
              &nbsp;
              <button class="btn btn-danger" (click)="deleteTask(task)">
                <i class="fa fa-trash"></i>
              </button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
